import{_ as N}from"./ToastEditor-BAePOh5G.js";import{r as f,b as C,u as q,d as B,i as U,e as r,o as i,c as v,a as s,f as n,w as u,g as c,h as j,j as T,k as b,q as O,s as w,F as E,v as F}from"./index-iXXJwZGq.js";import{c as M,r as z,b as A,n as D,N as H}from"./confirm-BxWuQ6_V.js";const R={class:"section-area space-y-2"},S={class:"article-area"},W={class:"flex justify-end"},$={class:"article-area"},L={style:{display:"flex","column-gap":"0.5rem"}},P={class:"article-area"},Q={__name:"BoardWritePage",setup(Y){f(),C(()=>{e.value.boardId=l.query.id,l.query.pid&&m.get(`/post/${l.query.pid}`).then(a=>{e.value.title=a.data.title,e.value.content=a.data.content,e.value.boardId=a.data.boardId,e.value.postUid=a.data.postUid})});const[l,d]=[q(),B()],m=U("axios"),e=f({boardId:null,title:"",content:"",delYn:"N"}),y={BD00010001:"메모장",BD00010002:"자료실"},V=()=>{M().then(()=>{d.back()})},g=()=>!Object.keys(e.value).some(t=>e.value[t]===null||e.value[t]?.length===0),h=()=>{g()?z().then(()=>{m.post("/post",e.value).then(a=>{A(),d.push({name:"게시글 상세",query:Object.assign(l.query,{pid:a.data.postUid})})})}):D("등록 불가","제목 혹은 내용이 비어있습니다",H.Warning)};return(a,t)=>{const p=r("el-button"),k=r("el-option"),x=r("el-select"),I=r("el-input");return i(),v("section",R,[s("article",S,[s("div",W,[n(p,{onClick:V,icon:c(O)},{default:u(()=>t[3]||(t[3]=[b(" 취소 ")])),_:1},8,["icon"]),n(p,{onClick:h,icon:c(w),type:"primary",class:"!ml-2"},{default:u(()=>t[4]||(t[4]=[b(" 등록 ")])),_:1},8,["icon"])])]),s("article",$,[s("div",L,[n(x,{modelValue:e.value.boardId,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.boardId=o),placeholder:"카테고리",size:"large",class:"custom",style:{width:"150px"}},{default:u(()=>[(i(),v(E,null,F(y,(o,_)=>n(k,{label:o,value:_,key:_},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),n(I,{modelValue:e.value.title,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.title=o),placeholder:"제목 입력",size:"large",class:"custom",clearable:""},null,8,["modelValue"])])]),s("article",P,[!c(l).query.pid||e.value.content?(i(),j(N,{key:0,modelValue:e.value.content,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.content=o)},null,8,["modelValue"])):T("",!0)])])}}};export{Q as default};
