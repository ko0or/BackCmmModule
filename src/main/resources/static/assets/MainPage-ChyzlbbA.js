import{c as n,n as o}from"./confirm-D8zyBkYa.js";/* empty css                                                                     */import{b as d,q as p,r as a,o as j,c as P,a as h}from"./index-BP1XVRdp.js";const k={class:"section-area"},_={__name:"MainPage",setup(I){d(()=>{u()});const r=p("axios");a("0");const l={getContainerAll:async()=>{const e=(await r.get("/docker/container")).data.string;return l.jsonParser(e)},getImageAll:async()=>{const e=(await r.get("/docker/image")).data.string;return l.jsonParser(e)},jsonParser:t=>{if(!t)return[];const e=t.trim().split(/\r?\n/);return Object.assign([],e.map(s=>JSON.parse(s)))},startContainer:(t,e)=>{n("컨테이너를 실행하시겠습니까?","컨테이너").then(()=>{r.post("/docker/container/start",{containerName:t.ID}).then(s=>{o("컨테이너","컨테이너 실행 완료","success"),e&&e()})})},pullImage:(t,e)=>{n("이미지를 다운로드하시겠습니까?","이미지").then(()=>{r.post("/docker/image/pull",t).then(s=>{o("이미지","이미지 다운로드 완료","success"),e&&e()})})},startImage:(t,e)=>{n("이미지를 실행하시겠습니까?","이미지").then(()=>{r.post("/docker/image/start",t).then(s=>{o("이미지","이미지 실행 완료","success"),e&&e()})})},stopContainer:(t,e)=>{n("컨테이너를 중단하시겠습니까?","컨테이너").then(()=>{r.post("/docker/container/stop",{containerName:t.ID}).then(s=>{o("컨테이너","컨테이너 중단 완료","success"),e&&e()})})},delContainer:(t,e)=>{n("컨테이너를 삭제하시겠습니까?","컨테이너").then(()=>{r.post("/docker/container/delete",{containerName:t.ID}).then(s=>{o("컨테이너","컨테이너 삭제 완료","success"),e&&e()})})},delImage:(t,e)=>{n("이미지를 삭제하시겠습니까?","이미지").then(()=>{r.post("/docker/image/delete",{imageName:t.ID}).then(()=>{o("이미지","이미지 삭제 완료","success"),e&&e()})})}},c=a([]),i=a([]),m=a([]);a(!1),a({imageName:null,containerName:null,etrPort:12e3,itrPort:8080}),a(!1),a({imageName:null}),a(!1),a({projectUid:null,projectName:null,projectUrl:null,containerName:null,imageName:null,etrPort:null,itrPort:null,domainSdate:null,domainEdate:null,sslSdate:null,sslEdate:null}),a(),a(),a(),a({imgPull:{},imgRun:{},pjtConf:{}});const u=async()=>{c.value=await g(),i.value=await l.getContainerAll(),m.value=await l.getImageAll()},g=async()=>{const t=await r.get("/docker/project");return Object.assign([],t.data||[])};return(t,e)=>(j(),P("section",k,e[0]||(e[0]=[h("article",{class:"article-area"}," 메인페이지 ",-1)])))}};export{_ as default};
