import{_ as P,r as N,e as g,y as q,o as n,c as l,a as t,F as V,v as D,t as m,g as v,z as U,A as I,h as M,w as C,k as w,j as u,B as R,C as h,D as O,E as b,x as T,u as z,d as E,f as p,G as F,H,I as K}from"./index-B6slWFNS.js";/* empty css                                                                   */const S={class:"comp-board"},A={class:"comp-board--index comp-board--desktop"},G=["onClick"],J=["onClick"],Q={class:"comp-board--author comp-board--desktop"},W={class:"comp-board--date comp-board--desktop"},X={class:"comp-board--view-cnt comp-board--desktop"},Y={class:"comp-board--cmmt-cnt comp-board--desktop"},Z={key:0},tt={colspan:"6",class:"!h-60"},et={__name:"BoardTable",setup(f,{expose:a}){const o=N([]),c=N(!0);return a({setData:s=>{o.value=Object.assign([],s),c.value=!1},setLoading:s=>{c.value=s}}),(s,e)=>{const r=g("el-text"),$=q("loading");return n(),l("div",S,[t("table",null,[e[2]||(e[2]=t("thead",{class:"comp-board--desktop"},[t("tr",null,[t("td",{class:"comp-board--index"}," 번호 "),t("td",{class:"comp-board--post-title"}," 제목 "),t("td",{class:"comp-board--author"}," 작성자 "),t("td",{class:"comp-board--date"}," 등록일 "),t("td",{class:"comp-board--view-cnt"}," 조회수 "),t("td",{class:"comp-board--cmmt-cnt"}," 댓글수 ")])],-1)),t("tbody",null,[(n(!0),l(V,null,D(o.value,d=>(n(),l("tr",null,[t("td",A,m(d.postUid),1),t("td",{class:"comp-board--post-title",onClick:i=>s.$emit("rowClick",d.postUid)},m(d.title),9,G),t("td",{class:"comp-board--content comp-board--mobile",onClick:i=>s.$emit("rowClick",d.postUid)}," 쿼리의 수행 순서는 메인 쿼리 -> 서브 쿼리 순으로 동작합니다. 서브쿼리는 결과 건수만큼 반복 수행되기 때문에 조회되는 데이터의 갯수가 적다면 크게 문제될 것은 없지만,조회 되는 데이터의 갯수가 많아지면 많아질 수록 성능이 현저히 떨어지는 모습을 볼 수 있습니다. 또한 스칼라 서브쿼리 사용시 서브쿼리의 결과값이 같은 경우가 많거나, 매번 동일한 결과값을 반환한다면, 스칼라 서브쿼리의 캐싱 효과를 통해 성능을 높일 수 있으나, 서브쿼리에서 사용되는 조건의 종류가 많아지거나 혹은 조건 데이터가 지속적으로 바뀔경우 캐싱의 효율성이 떨어지기 때문에 이전보다 성능이 떨어질 수 있습니다. ",8,J),t("td",Q,m(d.authorNm||"-"),1),t("td",W,m(v(U)(d.regDttm).fromNow()||"-"),1),t("td",X,m(d.viewCnt||"-"),1),t("td",Y,m(d.cmmtCnt||"-"),1),e[0]||(e[0]=t("td",{class:"comp-board--mobile"},[t("div",{class:"comp-board-mobile--info"},[t("p",null," @관리자 · @일전 "),t("div",null,[t("p",{class:"comp-board--view-cnt"},"조회수 @"),t("p",{class:"comp-board--cmmt-cnt"},"댓글수 @")])])],-1))]))),256)),o.value.length===0?(n(),l("tr",Z,[I((n(),l("td",tt,[c.value?u("",!0):(n(),M(r,{key:0},{default:C(()=>e[1]||(e[1]=[w(" 조회결과가 존재하지않습니다 ")])),_:1}))])),[[$,c.value]])])):u("",!0)])])])}}},dt=P(et,[["__scopeId","data-v-3b2be862"]]),ot={class:"comp-pagination"},st=["onClick"],at={__name:"BoardPager",props:{curPageNum:{type:Number,required:!0},curPageRowCnt:{type:Number,required:!0},totalPageCnt:{type:Number,required:!0},displayBtnCnt:{type:Number,default:5}},setup(f){const a=f,o=R({min:0,max:0,range:h(()=>_()),isLastRange:h(()=>y())}),c=()=>{o.max=Math.ceil(a.totalPageCnt/a.curPageRowCnt),o.min=Math.floor(a.curPageNum/a.displayBtnCnt)*a.displayBtnCnt},_=()=>a.displayBtnCnt+o.min>o.max?o.max%a.displayBtnCnt:a.displayBtnCnt,y=()=>a.displayBtnCnt+o.min>=o.max;return O(()=>a,()=>{c()},{deep:!0,immediate:!0}),(s,e)=>(n(),l("nav",null,[t("ul",ot,[o.min!==0?(n(),l("li",{key:0,class:"comp-pagination--page-item",onClick:e[0]||(e[0]=b(r=>s.$emit("change",0),["prevent"]))},e[4]||(e[4]=[t("div",null," « ",-1)]))):u("",!0),o.min!==0?(n(),l("li",{key:1,class:"comp-pagination--page-item",onClick:e[1]||(e[1]=b(r=>s.$emit("change",o.min-1),["prevent"]))},e[5]||(e[5]=[t("div",null," ‹ ",-1)]))):u("",!0),(n(!0),l(V,null,D(o.range,r=>(n(),l("li",{key:r,class:T(["comp-pagination--page-item",{active:o.min+r===Number(a.curPageNum)+1}])},[t("div",{class:"comp-pagination--page-link",onClick:b($=>s.$emit("change",o.min+r-1),["prevent"])},m(o.min+r),9,st)],2))),128)),o.isLastRange?u("",!0):(n(),l("li",{key:2,class:"comp-pagination--page-item",onClick:e[2]||(e[2]=b(r=>s.$emit("change",o.min+a.displayBtnCnt),["prevent"]))},e[6]||(e[6]=[t("div",null," › ",-1)]))),o.isLastRange?u("",!0):(n(),l("li",{key:3,class:"comp-pagination--page-item",onClick:e[3]||(e[3]=b(r=>s.$emit("change",o.max-1),["prevent"]))},e[7]||(e[7]=[t("div",null," » ",-1)])))])]))}},ct=P(at,[["__scopeId","data-v-44e11f39"]]),nt={class:"flex justify-between items-center"},lt={class:"flex gap-x-1.5"},pt={__name:"BoardSearch",emits:["submit"],setup(f,{expose:a,emit:o}){const[c,_]=[z(),E()],y=o,s=R({type:"title",keyword:null}),e=()=>{y("submit",Object.assign({},s))};return a({getData:()=>Object.assign({},s),clear:()=>{s.type="title",s.keyword=null}}),(d,i)=>{const B=g("el-option"),L=g("el-select"),j=g("el-input"),x=g("el-button");return n(),l("div",nt,[t("div",lt,[p(L,{modelValue:s.type,"onUpdate:modelValue":i[0]||(i[0]=k=>s.type=k),placeholder:"제목",style:{width:"100px"},class:"!outline-none !border-none"},{default:C(()=>[p(B,{label:"제목",value:"title"}),p(B,{label:"내용",value:"content"}),p(B,{label:"전체",value:"keyword"})]),_:1},8,["modelValue"]),p(j,{modelValue:s.keyword,"onUpdate:modelValue":i[1]||(i[1]=k=>s.keyword=k),placeholder:"검색어 입력",style:{width:"250px"},clearable:"",onKeydown:F(e,["enter"])},null,8,["modelValue"]),p(x,{onClick:e,icon:v(H)},{default:C(()=>i[3]||(i[3]=[w(" 검색 ")])),_:1},8,["icon"])]),t("div",null,[p(x,{onClick:i[2]||(i[2]=k=>v(_).push({name:"게시글 작성",query:v(c).query})),icon:v(K),type:"primary"},{default:C(()=>i[4]||(i[4]=[w(" 게시글 작성 ")])),_:1},8,["icon"])])])}}};export{dt as B,pt as _,ct as a};
