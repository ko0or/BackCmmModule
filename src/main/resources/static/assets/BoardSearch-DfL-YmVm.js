import{_ as N,r as j,o as n,c as l,a as t,F as x,s as P,t as c,j as b,x as q,y as V,z as B,A as L,B as u,g as y,v as U,u as I,d as M,e as C,h as m,w as f,C as O,k as w,D as T,E as z}from"./index-Yn5O4R5n.js";/* empty css                                                                   */const E={class:"comp-board"},F={class:"comp-board--index comp-board--desktop"},K=["onClick"],S=["onClick"],A={class:"comp-board--author comp-board--desktop"},H={class:"comp-board--date comp-board--desktop"},G={class:"comp-board--view-cnt comp-board--desktop"},J={class:"comp-board--cmmt-cnt comp-board--desktop"},Q={__name:"BoardTable",setup(_,{expose:s}){const e=j([]);return s({setData:d=>{e.value=Object.assign([],d)}}),(d,p)=>(n(),l("div",E,[t("table",null,[p[1]||(p[1]=t("thead",{class:"comp-board--desktop"},[t("tr",null,[t("td",{class:"comp-board--index"}," 번호 "),t("td",{class:"comp-board--post-title"}," 제목 "),t("td",{class:"comp-board--author"}," 작성자 "),t("td",{class:"comp-board--date"}," 등록일 "),t("td",{class:"comp-board--view-cnt"}," 조회수 "),t("td",{class:"comp-board--cmmt-cnt"}," 댓글수 ")])],-1)),t("tbody",null,[(n(!0),l(x,null,P(e.value,o=>(n(),l("tr",null,[t("td",F,c(o.postUid),1),t("td",{class:"comp-board--post-title",onClick:a=>d.$emit("rowClick",o.postUid)},c(o.title),9,K),t("td",{class:"comp-board--content comp-board--mobile",onClick:a=>d.$emit("rowClick",o.postUid)}," 쿼리의 수행 순서는 메인 쿼리 -> 서브 쿼리 순으로 동작합니다. 서브쿼리는 결과 건수만큼 반복 수행되기 때문에 조회되는 데이터의 갯수가 적다면 크게 문제될 것은 없지만,조회 되는 데이터의 갯수가 많아지면 많아질 수록 성능이 현저히 떨어지는 모습을 볼 수 있습니다. 또한 스칼라 서브쿼리 사용시 서브쿼리의 결과값이 같은 경우가 많거나, 매번 동일한 결과값을 반환한다면, 스칼라 서브쿼리의 캐싱 효과를 통해 성능을 높일 수 있으나, 서브쿼리에서 사용되는 조건의 종류가 많아지거나 혹은 조건 데이터가 지속적으로 바뀔경우 캐싱의 효율성이 떨어지기 때문에 이전보다 성능이 떨어질 수 있습니다. ",8,S),t("td",A,c(o.authorNm||"-"),1),t("td",H,c(b(q)(o.regDttm).fromNow()||"-"),1),t("td",G,c(o.viewCnt||"-"),1),t("td",J,c(o.cmmtCnt||"-"),1),p[0]||(p[0]=t("td",{class:"comp-board--mobile"},[t("div",{class:"comp-board-mobile--info"},[t("p",null," @관리자 · @일전 "),t("div",null,[t("p",{class:"comp-board--view-cnt"},"조회수 @"),t("p",{class:"comp-board--cmmt-cnt"},"댓글수 @")])])],-1))]))),256))])])]))}},at=N(Q,[["__scopeId","data-v-59f34be6"]]),W={class:"comp-pagination"},X=["onClick"],Y={__name:"BoardPager",props:{curPageNum:{type:Number,required:!0},curPageRowCnt:{type:Number,required:!0},totalPageCnt:{type:Number,required:!0},displayBtnCnt:{type:Number,default:5}},setup(_){const s=_,e=V({min:0,max:0,range:B(()=>d()),isLastRange:B(()=>p())}),g=()=>{e.max=Math.ceil(s.totalPageCnt/s.curPageRowCnt),e.min=Math.floor(s.curPageNum/s.displayBtnCnt)*s.displayBtnCnt},d=()=>s.displayBtnCnt+e.min>e.max?e.max%s.displayBtnCnt:s.displayBtnCnt,p=()=>s.displayBtnCnt+e.min>=e.max;return L(()=>s,()=>{g()},{deep:!0,immediate:!0}),(o,a)=>(n(),l("nav",null,[t("ul",W,[e.min!==0?(n(),l("li",{key:0,class:"comp-pagination--page-item",onClick:a[0]||(a[0]=u(r=>o.$emit("change",0),["prevent"]))},a[4]||(a[4]=[t("div",null," « ",-1)]))):y("",!0),e.min!==0?(n(),l("li",{key:1,class:"comp-pagination--page-item",onClick:a[1]||(a[1]=u(r=>o.$emit("change",e.min-1),["prevent"]))},a[5]||(a[5]=[t("div",null," ‹ ",-1)]))):y("",!0),(n(!0),l(x,null,P(e.range,r=>(n(),l("li",{key:r,class:U(["comp-pagination--page-item",{active:e.min+r===Number(s.curPageNum)+1}])},[t("div",{class:"comp-pagination--page-link",onClick:u(h=>o.$emit("change",e.min+r-1),["prevent"])},c(e.min+r),9,X)],2))),128)),e.isLastRange?y("",!0):(n(),l("li",{key:2,class:"comp-pagination--page-item",onClick:a[2]||(a[2]=u(r=>o.$emit("change",e.min+s.displayBtnCnt),["prevent"]))},a[6]||(a[6]=[t("div",null," › ",-1)]))),e.isLastRange?y("",!0):(n(),l("li",{key:3,class:"comp-pagination--page-item",onClick:a[3]||(a[3]=u(r=>o.$emit("change",e.max-1),["prevent"]))},a[7]||(a[7]=[t("div",null," » ",-1)])))])]))}},st=N(Y,[["__scopeId","data-v-44e11f39"]]),Z={class:"flex justify-between items-center"},tt={class:"flex gap-x-1.5"},nt={__name:"BoardSearch",emits:["submit"],setup(_,{expose:s,emit:e}){const[g,d]=[I(),M()],p=e,o=V({type:"title",keyword:null}),a=()=>{p("submit",Object.assign({},o))};return s({getData:()=>Object.assign({},o)}),(h,i)=>{const k=C("el-option"),R=C("el-select"),D=C("el-input"),$=C("el-button");return n(),l("div",Z,[t("div",tt,[m(R,{modelValue:o.type,"onUpdate:modelValue":i[0]||(i[0]=v=>o.type=v),placeholder:"제목",style:{width:"100px"},class:"!outline-none !border-none"},{default:f(()=>[m(k,{label:"제목",value:"title"}),m(k,{label:"내용",value:"content"}),m(k,{label:"전체",value:"keyword"})]),_:1},8,["modelValue"]),m(D,{modelValue:o.keyword,"onUpdate:modelValue":i[1]||(i[1]=v=>o.keyword=v),placeholder:"검색어 입력",style:{width:"250px"},clearable:"",onKeydown:O(a,["enter"])},null,8,["modelValue"]),m($,{onClick:a,icon:b(T)},{default:f(()=>i[3]||(i[3]=[w(" 검색 ")])),_:1},8,["icon"])]),t("div",null,[m($,{onClick:i[2]||(i[2]=v=>b(d).push({name:"게시글 작성",query:b(g).query})),icon:b(z),type:"primary"},{default:f(()=>i[4]||(i[4]=[w(" 게시글 작성 ")])),_:1},8,["icon"])])])}}};export{at as B,nt as _,st as a};
