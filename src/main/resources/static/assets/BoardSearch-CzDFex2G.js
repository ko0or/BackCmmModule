import{_ as x,r as j,e as b,o as a,c as l,a as t,F as N,v as P,t as m,g,y as q,f as c,w as k,k as $,j as v,z as V,A as w,B as L,C as u,x as U,u as I,d as M,D as O,E as T,G as z}from"./index-iXXJwZGq.js";/* empty css                                                                   */const E={class:"comp-board"},F={class:"comp-board--index comp-board--desktop"},K=["onClick"],S=["onClick"],A={class:"comp-board--author comp-board--desktop"},G={class:"comp-board--date comp-board--desktop"},H={class:"comp-board--view-cnt comp-board--desktop"},J={class:"comp-board--cmmt-cnt comp-board--desktop"},Q={key:0},W={colspan:"6"},X={__name:"BoardTable",setup(C,{expose:n}){const o=j([]);return n({setData:p=>{o.value=Object.assign([],p)}}),(p,r)=>{const s=b("el-text");return a(),l("div",E,[t("table",null,[r[2]||(r[2]=t("thead",{class:"comp-board--desktop"},[t("tr",null,[t("td",{class:"comp-board--index"}," 번호 "),t("td",{class:"comp-board--post-title"}," 제목 "),t("td",{class:"comp-board--author"}," 작성자 "),t("td",{class:"comp-board--date"}," 등록일 "),t("td",{class:"comp-board--view-cnt"}," 조회수 "),t("td",{class:"comp-board--cmmt-cnt"}," 댓글수 ")])],-1)),t("tbody",null,[(a(!0),l(N,null,P(o.value,e=>(a(),l("tr",null,[t("td",F,m(e.postUid),1),t("td",{class:"comp-board--post-title",onClick:i=>p.$emit("rowClick",e.postUid)},m(e.title),9,K),t("td",{class:"comp-board--content comp-board--mobile",onClick:i=>p.$emit("rowClick",e.postUid)}," 쿼리의 수행 순서는 메인 쿼리 -> 서브 쿼리 순으로 동작합니다. 서브쿼리는 결과 건수만큼 반복 수행되기 때문에 조회되는 데이터의 갯수가 적다면 크게 문제될 것은 없지만,조회 되는 데이터의 갯수가 많아지면 많아질 수록 성능이 현저히 떨어지는 모습을 볼 수 있습니다. 또한 스칼라 서브쿼리 사용시 서브쿼리의 결과값이 같은 경우가 많거나, 매번 동일한 결과값을 반환한다면, 스칼라 서브쿼리의 캐싱 효과를 통해 성능을 높일 수 있으나, 서브쿼리에서 사용되는 조건의 종류가 많아지거나 혹은 조건 데이터가 지속적으로 바뀔경우 캐싱의 효율성이 떨어지기 때문에 이전보다 성능이 떨어질 수 있습니다. ",8,S),t("td",A,m(e.authorNm||"-"),1),t("td",G,m(g(q)(e.regDttm).fromNow()||"-"),1),t("td",H,m(e.viewCnt||"-"),1),t("td",J,m(e.cmmtCnt||"-"),1),r[0]||(r[0]=t("td",{class:"comp-board--mobile"},[t("div",{class:"comp-board-mobile--info"},[t("p",null," @관리자 · @일전 "),t("div",null,[t("p",{class:"comp-board--view-cnt"},"조회수 @"),t("p",{class:"comp-board--cmmt-cnt"},"댓글수 @")])])],-1))]))),256)),o.value.length===0?(a(),l("tr",Q,[t("td",W,[c(s,null,{default:k(()=>r[1]||(r[1]=[$(" 조회결과가 존재하지않습니다 ")])),_:1})])])):v("",!0)])])])}}},lt=x(X,[["__scopeId","data-v-8aa3b2fb"]]),Y={class:"comp-pagination"},Z=["onClick"],tt={__name:"BoardPager",props:{curPageNum:{type:Number,required:!0},curPageRowCnt:{type:Number,required:!0},totalPageCnt:{type:Number,required:!0},displayBtnCnt:{type:Number,default:5}},setup(C){const n=C,o=V({min:0,max:0,range:w(()=>p()),isLastRange:w(()=>r())}),y=()=>{o.max=Math.ceil(n.totalPageCnt/n.curPageRowCnt),o.min=Math.floor(n.curPageNum/n.displayBtnCnt)*n.displayBtnCnt},p=()=>n.displayBtnCnt+o.min>o.max?o.max%n.displayBtnCnt:n.displayBtnCnt,r=()=>n.displayBtnCnt+o.min>=o.max;return L(()=>n,()=>{y()},{deep:!0,immediate:!0}),(s,e)=>(a(),l("nav",null,[t("ul",Y,[o.min!==0?(a(),l("li",{key:0,class:"comp-pagination--page-item",onClick:e[0]||(e[0]=u(i=>s.$emit("change",0),["prevent"]))},e[4]||(e[4]=[t("div",null," « ",-1)]))):v("",!0),o.min!==0?(a(),l("li",{key:1,class:"comp-pagination--page-item",onClick:e[1]||(e[1]=u(i=>s.$emit("change",o.min-1),["prevent"]))},e[5]||(e[5]=[t("div",null," ‹ ",-1)]))):v("",!0),(a(!0),l(N,null,P(o.range,i=>(a(),l("li",{key:i,class:U(["comp-pagination--page-item",{active:o.min+i===Number(n.curPageNum)+1}])},[t("div",{class:"comp-pagination--page-link",onClick:u(h=>s.$emit("change",o.min+i-1),["prevent"])},m(o.min+i),9,Z)],2))),128)),o.isLastRange?v("",!0):(a(),l("li",{key:2,class:"comp-pagination--page-item",onClick:e[2]||(e[2]=u(i=>s.$emit("change",o.min+n.displayBtnCnt),["prevent"]))},e[6]||(e[6]=[t("div",null," › ",-1)]))),o.isLastRange?v("",!0):(a(),l("li",{key:3,class:"comp-pagination--page-item",onClick:e[3]||(e[3]=u(i=>s.$emit("change",o.max-1),["prevent"]))},e[7]||(e[7]=[t("div",null," » ",-1)])))])]))}},it=x(tt,[["__scopeId","data-v-44e11f39"]]),et={class:"flex justify-between items-center"},ot={class:"flex gap-x-1.5"},rt={__name:"BoardSearch",emits:["submit"],setup(C,{expose:n,emit:o}){const[y,p]=[I(),M()],r=o,s=V({type:"title",keyword:null}),e=()=>{r("submit",Object.assign({},s))};return n({getData:()=>Object.assign({},s),clear:()=>{s.type="title",s.keyword=null}}),(nt,d)=>{const f=b("el-option"),R=b("el-select"),D=b("el-input"),B=b("el-button");return a(),l("div",et,[t("div",ot,[c(R,{modelValue:s.type,"onUpdate:modelValue":d[0]||(d[0]=_=>s.type=_),placeholder:"제목",style:{width:"100px"},class:"!outline-none !border-none"},{default:k(()=>[c(f,{label:"제목",value:"title"}),c(f,{label:"내용",value:"content"}),c(f,{label:"전체",value:"keyword"})]),_:1},8,["modelValue"]),c(D,{modelValue:s.keyword,"onUpdate:modelValue":d[1]||(d[1]=_=>s.keyword=_),placeholder:"검색어 입력",style:{width:"250px"},clearable:"",onKeydown:O(e,["enter"])},null,8,["modelValue"]),c(B,{onClick:e,icon:g(T)},{default:k(()=>d[3]||(d[3]=[$(" 검색 ")])),_:1},8,["icon"])]),t("div",null,[c(B,{onClick:d[2]||(d[2]=_=>g(p).push({name:"게시글 작성",query:g(y).query})),icon:g(z),type:"primary"},{default:k(()=>d[4]||(d[4]=[$(" 게시글 작성 ")])),_:1},8,["icon"])])])}}};export{lt as B,rt as _,it as a};
