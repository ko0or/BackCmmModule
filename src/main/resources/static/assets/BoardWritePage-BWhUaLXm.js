import{_ as N}from"./ToastEditor-CHBlpRlm.js";import{r as f,o as C,s as B,x as U,i as q,a as r,b as i,c as v,d as s,k as n,f as u,u as c,e as T,h as j,g as b,L as M,M as O,F as E,p as F}from"./index-DFO3MUi4.js";import{c as w,r as z,a as A,n as D,N as H}from"./confirm-DrgE0thk.js";const L={class:"section-area space-y-2"},R={class:"article-area"},S={class:"flex justify-end"},W={class:"article-area"},$={style:{display:"flex","column-gap":"0.5rem"}},P={class:"article-area"},Q={__name:"BoardWritePage",setup(Y){f(),C(()=>{e.value.boardId=l.query.id,l.query.pid&&p.get(`/post/${l.query.pid}`).then(a=>{e.value.title=a.data.title,e.value.content=a.data.content,e.value.boardId=a.data.boardId,e.value.postUid=a.data.postUid})});const[l,d]=[B(),U()],p=q("axios"),e=f({boardId:null,title:"",content:"",delYn:"N"}),y={BD00010001:"메모장",BD00010002:"자료실"},V=()=>{w().then(()=>{d.back()})},g=()=>!Object.keys(e.value).some(t=>e.value[t]===null||e.value[t]?.length===0),h=()=>{g()?z().then(()=>{p.post("/post",e.value).then(a=>{A(),d.push({name:"게시글 상세",query:Object.assign(l.query,{pid:a.data.postUid})})})}):D("등록 불가","제목 혹은 내용이 비어있습니다",H.Warning)};return(a,t)=>{const m=r("el-button"),k=r("el-option"),x=r("el-select"),I=r("el-input");return i(),v("section",L,[s("article",R,[s("div",S,[n(m,{onClick:V,icon:c(M)},{default:u(()=>t[3]||(t[3]=[b(" 취소 ")])),_:1},8,["icon"]),n(m,{onClick:h,icon:c(O),type:"primary",class:"!ml-2"},{default:u(()=>t[4]||(t[4]=[b(" 등록 ")])),_:1},8,["icon"])])]),s("article",W,[s("div",$,[n(x,{modelValue:e.value.boardId,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.boardId=o),placeholder:"카테고리",size:"large",class:"custom",style:{width:"150px"}},{default:u(()=>[(i(),v(E,null,F(y,(o,_)=>n(k,{label:o,value:_,key:_},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),n(I,{modelValue:e.value.title,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.title=o),placeholder:"제목 입력",size:"large",class:"custom",clearable:""},null,8,["modelValue"])])]),s("article",P,[!c(l).query.pid||e.value.content?(i(),T(N,{key:0,modelValue:e.value.content,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.content=o)},null,8,["modelValue"])):j("",!0)])])}}};export{Q as default};
