import{_ as N}from"./ToastEditor-BjJZLAwc.js";import{r as f,b as C,u as q,d as B,i as U,e as r,o as u,c as v,a as s,h as n,w as c,j as i,f as T,g as j,k as b,p as w,q as E,F,s as M}from"./index-Yn5O4R5n.js";import{c as O,r as z,b as A,n as D,N as H}from"./confirm-Hrel4Z-F.js";const R={class:"section-area space-y-2"},S={class:"article-area"},W={class:"flex justify-end"},$={class:"article-area"},L={style:{display:"flex","column-gap":"0.5rem"}},P={class:"article-area"},Q={__name:"BoardWritePage",setup(Y){f(),C(()=>{e.value.boardId=l.query.id,l.query.pid&&m.get(`/post/${l.query.pid}`).then(o=>{e.value.title=o.data.title,e.value.content=o.data.content,e.value.boardId=o.data.boardId,e.value.postUid=o.data.postUid})});const[l,d]=[q(),B()],m=U("axios"),e=f({boardId:null,title:"",content:"",delYn:"N"}),y={BD00010001:"메모장",BD00010002:"자료실"},V=()=>{O().then(()=>{d.back()})},g=()=>!Object.keys(e.value).some(t=>e.value[t]===null||e.value[t]?.length===0),h=()=>{g()?z().then(()=>{m.post("/post",e.value).then(()=>{A(),d.push({name:"게시글 목록",query:l.query})})}):D("등록 불가","제목 혹은 내용이 비어있습니다",H.Warning)};return(o,t)=>{const p=r("el-button"),k=r("el-option"),x=r("el-select"),I=r("el-input");return u(),v("section",R,[s("article",S,[s("div",W,[n(p,{onClick:V,icon:i(w)},{default:c(()=>t[3]||(t[3]=[b(" 취소 ")])),_:1},8,["icon"]),n(p,{onClick:h,icon:i(E),type:"primary",class:"!ml-2"},{default:c(()=>t[4]||(t[4]=[b(" 등록 ")])),_:1},8,["icon"])])]),s("article",$,[s("div",L,[n(x,{modelValue:e.value.boardId,"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.boardId=a),placeholder:"카테고리",size:"large",class:"custom",style:{width:"150px"}},{default:c(()=>[(u(),v(F,null,M(y,(a,_)=>n(k,{label:a,value:_,key:_},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),n(I,{modelValue:e.value.title,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.title=a),placeholder:"제목 입력",size:"large",class:"custom",clearable:""},null,8,["modelValue"])])]),s("article",P,[!i(l).query.pid||e.value.content?(u(),T(N,{key:0,modelValue:e.value.content,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.content=a)},null,8,["modelValue"])):j("",!0)])])}}};export{Q as default};
