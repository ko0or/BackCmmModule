import{_ as g,B as _,a as f}from"./BoardSearch-DHfCx5xL.js";import{b as m,u as h,d as b,i as v,r,e as y,o as B,c as R,a as k,h as c}from"./index-CAI6GlsR.js";/* empty css                                                                   */const P={class:"section-area"},q={class:"article-area space-y-2"},H={__name:"BoardListPage",setup(w){m(()=>{o()});const[n,u]=[h(),b()],i=v("axios"),l=r(),s=r(),a=r({page:0,size:10,list:[],totalCount:0,totalPages:0}),p=e=>{a.value.page=e},o=()=>{const e=Object.assign(s.value.getData(),a.value);e.boardId=n.query.id,e.sort="postUid,desc",i.get("/post",{params:e}).then(t=>{a.value.totalPages=t.data.totalPages,l.value.setData(t.data.list)})},d=e=>{u.push({name:"게시글 상세",query:Object.assign(n.query,{pid:e})})};return y((e,t)=>{e.query.id!==t.query.id&&(s.value.clear(),setTimeout(()=>o(),0))}),(e,t)=>(B(),R("section",P,[k("article",q,[c(g,{ref_key:"searchRef",ref:s,onSubmit:o},null,512),c(_,{ref_key:"tbRef",ref:l,onRowClick:d},null,512),c(f,{"cur-page-num":a.value.page,"cur-page-row-cnt":a.value.size,"total-page-cnt":a.value.totalPages,"display-btn-cnt":5,onChange:p},null,8,["cur-page-num","cur-page-row-cnt","total-page-cnt"])])]))}};export{H as default};
